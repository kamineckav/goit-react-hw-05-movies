{"version":3,"file":"static/js/888.2dce239c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","helpers/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"textBlock\":\"MovieDetails_textBlock__xUysA\",\"coverBack\":\"MovieDetails_coverBack__DUg2l\",\"button\":\"MovieDetails_button__PGjyO\",\"mainInfo\":\"MovieDetails_mainInfo__mnGIC\",\"imgBlock\":\"MovieDetails_imgBlock__+hEkO\",\"img\":\"MovieDetails_img__D3WH9\",\"mainTitle\":\"MovieDetails_mainTitle__r-UD3\",\"textScore\":\"MovieDetails_textScore__cmO98\",\"textBolt\":\"MovieDetails_textBolt__Y2XmL\",\"text\":\"MovieDetails_text__uG5Tv\",\"secondTitle\":\"MovieDetails_secondTitle__DWPDq\",\"listGenres\":\"MovieDetails_listGenres__LvBS4\",\"list\":\"MovieDetails_list__y5Rs9\",\"blockOverview\":\"MovieDetails_blockOverview__SVMwC\"};","import { fetchDetails } from 'helpers/api';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [info, setInfo] = useState({});\n\n  const location = useLocation();\n  const backLinkLocation = useRef(location.state?.from ?? '/');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    fetchDetails(movieId)\n      .then(data => setInfo(data))\n      .catch(error => console.error(error));\n  }, [movieId]);\n\n  const dateString = info.release_date;\n  const dateObject = new Date(Date.parse(dateString));\n  const year = dateObject.getFullYear();\n\n  return (\n    <div className=\"container\">\n      <div className={css.coverBack}>\n        <NavLink to={backLinkLocation.current} className={css.button}>\n          Go back\n        </NavLink>\n      </div>\n      <div className={css.mainInfo}>\n        <div className={css.imgBlock}>\n          <img\n            src={`https://image.tmdb.org/t/p/original/${info.poster_path}`}\n            alt={info.title}\n            className={css.img}\n          />\n        </div>\n        <div className={css.textBlock}>\n          <div>\n            <h1 className={css.mainTitle}>\n              {info.title}\n              <br />({year})\n            </h1>\n            <p className={css.textScore}>\n              <span className={css.textBolt}>User Score:</span>{' '}\n              {info.vote_average}%\n            </p>\n          </div>\n          <div className={css.blockOverview}>\n            <h2 className={css.secondTitle}>Overview</h2>\n            <p className={css.text}>{info.overview}</p>\n          </div>\n          <div>\n            <h2 className={css.secondTitle}>Genres</h2>\n            <ul className={css.listGenres}>\n              {info.poster_path &&\n                info.genres.map(gener => (\n                  <li key={gener.id} className={css.textGener}>\n                    {gener.name}\n                  </li>\n                ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n      <ul className={css.list}>\n        <li>\n          <NavLink to=\"cast\" className={css.button}>\n            Cast\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"reviews\" className={css.button}>\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n      <Suspense> {<Outlet />}</Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst URL_TREND = 'https://api.themoviedb.org/3/trending/movie/day';\nconst URL_DETAILS = 'https://api.themoviedb.org/3/movie/';\nconst URL_SEARCH = 'https://api.themoviedb.org/3/search/movie';\n\nconst API_KEY = '5bc17d88edd2ffc8ba78f7fe5b14a576';\n\nasync function fetchTrend() {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: '1',\n    include_adult: false,\n    per_page: '20',\n  });\n\n  return axios.get(`${URL_TREND}?${params}`).then(({ data }) => data);\n}\n\nasync function fetchDetails(id) {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}?${params}`).then(({ data }) => data);\n}\n\nasync function fetchCast(id) {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios\n    .get(`${URL_DETAILS}/${id}/credits?${params}`)\n    .then(({ data }) => data);\n}\n\nasync function fetchReview(id) {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios\n    .get(`${URL_DETAILS}/${id}/reviews?${params}`)\n    .then(({ data }) => data);\n}\n\nasync function fetchSearch(query) {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n    query: query,\n    page: '1',\n  });\n\n  return axios.get(`${URL_SEARCH}?${params}`).then(({ data }) => data);\n}\n\nexport { fetchTrend, fetchDetails, fetchCast, fetchReview, fetchSearch };\n"],"names":["_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","info","setInfo","location","useLocation","backLinkLocation","useRef","state","from","movieId","useParams","useEffect","fetchDetails","then","data","catch","error","console","dateString","release_date","year","Date","parse","getFullYear","_jsxs","className","children","_jsx","css","NavLink","to","current","src","concat","poster_path","alt","title","vote_average","overview","genres","map","gener","name","id","Suspense","Outlet","URL_TREND","URL_DETAILS","URL_SEARCH","API_KEY","fetchTrend","_fetchTrend","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","params","_context","prev","next","URLSearchParams","api_key","language","page","include_adult","per_page","abrupt","axios","_ref","stop","_x","_fetchDetails","_callee2","_context2","_ref2","fetchCast","_x2","_fetchCast","_callee3","_context3","_ref3","fetchReview","_x3","_fetchReview","_callee4","_context4","_ref4","fetchSearch","_x4","_fetchSearch","_callee5","query","_context5","_ref5"],"sourceRoot":""}